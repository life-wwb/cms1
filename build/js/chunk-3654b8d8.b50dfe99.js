(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3654b8d8"],{"14a1":function(e,t,a){"use strict";var n=a("d549");t["a"]=n["a"]},"1a41":function(e,t,a){},"4e40":function(e,t,a){"use strict";var n=a("8287");t["a"]=n["a"]},"560c":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("7a23"),r=a("0613");function o(){var e=Object(r["c"])(),t=Object(n["ref"])(),a=function(a){var n;console.log(a),e.commit("systemStore/changeFormValue",a),null===(n=t.value)||void 0===n||n.getSearchDataList(a)},o=function(){var e;null===(e=t.value)||void 0===e||e.getSearchDataList()};return[t,a,o]}},"67d2":function(e,t,a){"use strict";var n=a("9287");t["a"]=n["a"]},"6d8f":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("5530"),r=a("7a23");function o(e,t){var a=Object(r["ref"])(),o=Object(r["ref"])(),c=function(){o.value={},a.value&&(a.value.centerDialogVisible=!0),e&&e()},l=function(e){console.log(e),o.value=Object(n["a"])({},e),a.value&&(a.value.centerDialogVisible=!0),t&&t()};return[a,o,c,l]}},8287:function(e,t,a){"use strict";a("797a"),a("5959");var n=a("cf2e"),r=a("54bb"),o=a("7a23"),c={class:"footer"},l=Object(o["createTextVNode"])(" 重置 "),i=Object(o["createTextVNode"])(" 搜索 ");function u(e,t,a,u,d,s){var p=Object(o["resolveComponent"])("refresh-left"),m=r["a"],f=n["a"],b=Object(o["resolveComponent"])("search"),h=Object(o["resolveComponent"])("wb-form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[Object(o["createVNode"])(h,Object(o["mergeProps"])(e.searchFormConfig,{modelValue:e.formValue,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formValue=t})}),{button:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",c,[Object(o["createVNode"])(f,{onClick:e.removeFormValue},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{style:{"margin-right":"3px"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(p)]})),_:1}),l]})),_:1},8,["onClick"]),Object(o["createVNode"])(f,{type:"primary",onClick:e.searchDataList},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,{style:{"margin-righ":"3px"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b)]})),_:1}),i]})),_:1},8,["onClick"])])]})),_:1},16,["modelValue"])])}var d=a("b85c"),s=(a("b0c0"),a("0d08")),p=Object(o["defineComponent"])({props:["searchFormConfig"],emits:["searchDataList","reSetDataList"],components:{WbForm:s["a"]},setup:function(e,t){var a,n,r=t.emit,c=null!==(a=e.searchFormConfig.IFormItems)&&void 0!==a?a:[],l={},i=Object(d["a"])(c);try{for(i.s();!(n=i.n()).done;){var u=n.value;l[u.name]=""}}catch(f){i.e(f)}finally{i.f()}var s=Object(o["ref"])(l),p=function(){for(var e in l)s.value[e]="";r("reSetDataList")},m=function(){console.log(123),r("searchDataList",s.value)};return{formValue:s,removeFormValue:p,searchDataList:m}}}),m=(a("a8fd"),a("6b0d")),f=a.n(m);const b=f()(p,[["render",u],["__scopeId","data-v-376e4452"]]);t["a"]=b},a4c2:function(e,t,a){"use strict";a.r(t);a("797a");var n=a("d549"),r=a("9287"),o=a("cf2e"),c=a("8287"),l=a("7a23"),i={class:"user"},u={class:"content"};function d(e,t,a,d,s,p){var m=c["a"],f=o["a"],b=r["a"],h=n["a"];return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",i,[Object(l["createVNode"])(m,{searchFormConfig:e.searchFormConfig,onReSetDataList:e.reSetDataList,onSearchDataList:e.searchDataList},null,8,["searchFormConfig","onReSetDataList","onSearchDataList"]),Object(l["createElementVNode"])("div",u,[Object(l["createVNode"])(b,{pageTableConfig:e.pageTableConfig,pageName:"users",ref:"pageModel",onNewDataClick:e.newDataCreate,onEditDataClick:e.editDataValue},{statu:Object(l["withCtx"])((function(e){return[Object(l["createVNode"])(f,{type:e.row.enable?"primary":"danger",size:"small",plain:""},{default:Object(l["withCtx"])((function(){return[Object(l["createTextVNode"])(Object(l["toDisplayString"])(e.row["enable"]?"启用":"禁用"),1)]})),_:2},1032,["type"])]})),_:1},8,["pageTableConfig","onNewDataClick","onEditDataClick"])]),Object(l["createVNode"])(h,{ref:"pageFormRef",pageFormConfig:e.pageFormConfigRef,formData:e.formData,pageName:"users"},null,8,["pageFormConfig","formData"])])}var s=a("3835"),p=(a("7db0"),a("d3b7"),a("b0c0"),a("d81d"),a("0613")),m=a("4e40"),f=a("67d2"),b=a("14a1"),h={IFormItems:[{name:"id",type:"input",label:"userid",placeholder:"请输入用户id"},{name:"name",type:"input",label:"username",placeholder:"请输入用户名"},{name:"realname",type:"input",label:"realname",placeholder:"请输入真实姓名"},{name:"cellphone",type:"input",label:"cellphone",placeholder:"请输入手机号码"},{name:"enable",type:"select",label:"statu",placeholder:"请选择用户用户状态",options:[{title:"启用",value:1},{title:"警用",value:0}]},{name:"departmentId",type:"select",label:"department",placeholder:"请选择用户部门",options:[{title:"IT部门",value:0},{title:"销售部门",value:1},{title:"财务部门",value:2},{title:"管理部门",value:3},{title:"后勤部门",value:4}]},{name:"createAt",type:"datePicker",label:"creatDate",otherOptions:{startPlaceholder:"开始时间",endPlaceholder:"结束时间",type:"daterange"}}],labelWidth:"120px"},O={title:"用户列表",propList:[{prop:"id",label:"员工号",minWidth:"100"},{prop:"name",label:"用户名",minWidth:"100"},{prop:"realname",label:"真实姓名",minWidth:"100"},{prop:"enable",label:"状态",minWidth:"100",slotName:"statu"},{prop:"cellphone",label:"手机号码",minWidth:"100"},{prop:"departmentId",label:"部门",minWidth:"100"},{prop:"createAt",label:"创建时间",minWidth:"180",slotName:"createAt"},{prop:"updateAt",label:"更新时间",minWidth:"180",slotName:"updateAt"},{prop:"operation",label:"操作",minWidth:"100",slotName:"operation"}]},j={IFormItems:[{name:"name",type:"input",label:"username",placeholder:"请输入用户名"},{name:"realname",type:"input",label:"realname",placeholder:"请输入真实姓名"},{name:"password",type:"password",label:"password",placeholder:"请输入用户密码",isShow:!0},{name:"departmentId",type:"select",label:"department",placeholder:"请选择用户部门",options:[]},{name:"roleId",type:"select",label:"role",placeholder:"请选择用户角色",options:[]},{name:"cellphone",type:"input",label:"cellphone",placeholder:"请输入用户手机号码"}],colLayout:{span:24},labelWidth:"100px",itemStyle:{padding:"10px 20px"}},v=a("560c"),g=a("6d8f"),C=Object(l["defineComponent"])({name:"user",components:{searchForm:m["a"],pageTable:f["a"],pageForm:b["a"]},setup:function(){var e=Object(v["a"])(),t=Object(s["a"])(e,3),a=t[0],n=t[1],r=t[2],o=function(){var e=j.IFormItems.find((function(e){return"password"===e.name}));e.isShow=!1},c=function(){var e=j.IFormItems.find((function(e){return"password"===e.name}));e.isShow=!0},i=Object(g["a"])(o,c),u=Object(s["a"])(i,4),d=u[0],m=u[1],f=u[2],b=u[3],C=Object(p["c"])(),V=Object(l["computed"])((function(){var e=j.IFormItems.find((function(e){return"departmentId"===e.name}));e.options=C.state.departmentList.map((function(e){return{title:e.name,value:e.id}}));var t=j.IFormItems.find((function(e){return"roleId"===e.name}));return t.options=C.state.roleList.map((function(e){return{title:e.name,value:e.id}})),j}));return{searchFormConfig:h,pageTableConfig:O,pageModel:a,searchDataList:n,reSetDataList:r,pageFormConfigRef:V,pageFormRef:d,formData:m,newDataCreate:f,editDataValue:b}}}),V=a("6b0d"),D=a.n(V);const y=D()(C,[["render",d]]);t["default"]=y},a8fd:function(e,t,a){"use strict";a("dadc")},b02b:function(e,t,a){},d549:function(e,t,a){"use strict";a("771d"),a("1a41"),a("b02b"),a("797a");var n=a("db9d"),r=a("cf2e"),o=a("7a23"),c={class:"page-form"},l={class:"dialog-footer"},i=Object(o["createTextVNode"])("取消"),u=Object(o["createTextVNode"])("确定");function d(e,t,a,d,s,p){var m=Object(o["resolveComponent"])("wb-form"),f=r["a"],b=n["a"];return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createVNode"])(b,{modelValue:e.centerDialogVisible,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.centerDialogVisible=t}),title:"新建用户",width:"30%","destroy-on-close":"",center:""},{footer:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("span",l,[Object(o["createVNode"])(f,{onClick:t[1]||(t[1]=function(t){return e.centerDialogVisible=!1})},{default:Object(o["withCtx"])((function(){return[i]})),_:1}),Object(o["createVNode"])(f,{type:"primary",onClick:e.handleDataClick},{default:Object(o["withCtx"])((function(){return[u]})),_:1},8,["onClick"])])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(m,Object(o["mergeProps"])(e.pageFormConfig,{modelValue:e.formValue,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formValue=t})}),null,16,["modelValue"]),Object(o["renderSlot"])(e.$slots,"default")]})),_:3},8,["modelValue"])])}var s=a("5530"),p=a("b85c"),m=(a("b0c0"),a("b64b"),a("0d08")),f=a("0613"),b=Object(o["defineComponent"])({props:{pageFormConfig:{type:Object,require:!0},formData:Object,pageName:{type:String,require:!0},otherInfo:{type:Object,default:function(){}}},components:{wbForm:m["a"]},setup:function(e){var t=Object(o["ref"])(!1),a=Object(o["ref"])({});Object(o["watch"])((function(){return e.formData}),(function(t){var n,r,o=Object(p["a"])(null===(n=e.pageFormConfig)||void 0===n?void 0:n.IFormItems);try{for(o.s();!(r=o.n()).done;){var c=r.value;a.value[c.name]=t[c.name]}}catch(l){o.e(l)}finally{o.f()}}));var n=Object(f["c"])(),r=n.state.systemStore.formValue,c=n.state.systemStore.pageInfo,l=function(){if(t.value=!1,Object.keys(e.formData).length){var o=e.formData.id,l=e.pageName,i=a.value;n.dispatch("systemStore/editDataAction",{id:o,pageName:l,data:Object(s["a"])(Object(s["a"])({},i),e.otherInfo)})}else{var u=e.pageName,d=a.value;n.dispatch("systemStore/createDataAction",{pageName:u,data:Object(s["a"])(Object(s["a"])({},d),e.otherInfo)})}n.dispatch("systemStore/getUserList",{name:e.pageName,data:Object(s["a"])({offset:(c.currentChange-1)*c.pageSize,size:c.pageSize},r)})};return{centerDialogVisible:t,formValue:a,handleDataClick:l}}}),h=a("6b0d"),O=a.n(h);const j=O()(b,[["render",d]]);t["a"]=j},d81d:function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").map,o=a("1dde"),c=o("map");n({target:"Array",proto:!0,forced:!c},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},dadc:function(e,t,a){}}]);
//# sourceMappingURL=chunk-3654b8d8.b50dfe99.js.map