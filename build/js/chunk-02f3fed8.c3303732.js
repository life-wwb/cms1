(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02f3fed8"],{"14a1":function(e,t,a){"use strict";var n=a("d549");t["a"]=n["a"]},"1a41":function(e,t,a){},"67d2":function(e,t,a){"use strict";var n=a("9287");t["a"]=n["a"]},"6d8f":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("5530"),o=a("7a23");function r(e,t){var a=Object(o["ref"])(),r=Object(o["ref"])(),c=function(){r.value={},a.value&&(a.value.centerDialogVisible=!0),e&&e()},i=function(e){console.log(e),r.value=Object(n["a"])({},e),a.value&&(a.value.centerDialogVisible=!0),t&&t()};return[a,r,c,i]}},b02b:function(e,t,a){},cacb:function(e,t,a){"use strict";a.r(t);var n=a("d549"),o=a("9287"),r=a("7a23"),c={class:"department"};function i(e,t,a,i,l,d){var p=o["a"],u=n["a"];return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",c,[Object(r["createVNode"])(p,{pageTableConfig:e.pageTableConfig,pageName:"department",onNewDataClick:e.newDataCreate,onEditDataClick:e.editDataValue},null,8,["pageTableConfig","onNewDataClick","onEditDataClick"]),Object(r["createVNode"])(u,{pageName:"department",pageFormConfig:e.pageFormConfigRef,ref:"pageFormRef",formData:e.formData},null,8,["pageFormConfig","formData"])])}var l=a("3835"),d=(a("7db0"),a("d3b7"),a("b0c0"),a("d81d"),a("5502")),p=a("67d2"),u=a("14a1"),m={title:"部门列表",propList:[{prop:"name",label:"部门",minWidth:"100"},{prop:"id",label:"部门号",minWidth:"60"},{prop:"parentId",label:"上级部门",minWidth:"120"},{prop:"leader",label:"部门领导",minWidth:"120"},{prop:"createAt",label:"创建时间",minWidth:"180",slotName:"createAt"},{prop:"updateAt",label:"更新时间",minWidth:"180",slotName:"updateAt"},{prop:"operation",label:"操作",minWidth:"100",slotName:"operation"}]},f={IFormItems:[{name:"name",type:"input",label:"username",placeholder:"请输入用户名"},{name:"leader",type:"input",label:"leaderName",placeholder:"请输入领导名"},{name:"parentId",type:"select",label:"parentdep",placeholder:"请选择上级部门",options:[]}],colLayout:{span:24},labelWidth:"100px",itemStyle:{padding:"10px 20px"}},b=a("6d8f"),s=Object(r["defineComponent"])({name:"department",components:{pageTable:p["a"],pageForm:u["a"]},setup:function(){var e=Object(b["a"])(),t=Object(l["a"])(e,4),a=t[0],n=t[1],o=t[2],c=t[3],i=Object(d["b"])(),p=Object(r["computed"])((function(){var e=f.IFormItems.find((function(e){return"parentId"===e.name}));return e.options=i.state.departmentList.map((function(e){return{title:e.name,value:e.id}})),f}));return{pageTableConfig:m,pageFormConfigRef:p,pageFormRef:a,formData:n,newDataCreate:o,editDataValue:c}}}),g=a("6b0d"),j=a.n(g);const O=j()(s,[["render",i]]);t["default"]=O},d549:function(e,t,a){"use strict";a("771d"),a("1a41"),a("b02b"),a("797a");var n=a("db9d"),o=a("cf2e"),r=a("7a23"),c={class:"page-form"},i={class:"dialog-footer"},l=Object(r["createTextVNode"])("取消"),d=Object(r["createTextVNode"])("确定");function p(e,t,a,p,u,m){var f=Object(r["resolveComponent"])("wb-form"),b=o["a"],s=n["a"];return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",c,[Object(r["createVNode"])(s,{modelValue:e.centerDialogVisible,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.centerDialogVisible=t}),title:"新建用户",width:"30%","destroy-on-close":"",center:""},{footer:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("span",i,[Object(r["createVNode"])(b,{onClick:t[1]||(t[1]=function(t){return e.centerDialogVisible=!1})},{default:Object(r["withCtx"])((function(){return[l]})),_:1}),Object(r["createVNode"])(b,{type:"primary",onClick:e.handleDataClick},{default:Object(r["withCtx"])((function(){return[d]})),_:1},8,["onClick"])])]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,Object(r["mergeProps"])(e.pageFormConfig,{modelValue:e.formValue,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formValue=t})}),null,16,["modelValue"]),Object(r["renderSlot"])(e.$slots,"default")]})),_:3},8,["modelValue"])])}var u=a("5530"),m=a("b85c"),f=(a("b0c0"),a("b64b"),a("0d08")),b=a("0613"),s=Object(r["defineComponent"])({props:{pageFormConfig:{type:Object,require:!0},formData:Object,pageName:{type:String,require:!0},otherInfo:{type:Object,default:function(){}}},components:{wbForm:f["a"]},setup:function(e){var t=Object(r["ref"])(!1),a=Object(r["ref"])({});Object(r["watch"])((function(){return e.formData}),(function(t){var n,o,r=Object(m["a"])(null===(n=e.pageFormConfig)||void 0===n?void 0:n.IFormItems);try{for(r.s();!(o=r.n()).done;){var c=o.value;a.value[c.name]=t[c.name]}}catch(i){r.e(i)}finally{r.f()}}));var n=Object(b["c"])(),o=n.state.systemStore.formValue,c=n.state.systemStore.pageInfo,i=function(){if(t.value=!1,Object.keys(e.formData).length){var r=e.formData.id,i=e.pageName,l=a.value;n.dispatch("systemStore/editDataAction",{id:r,pageName:i,data:Object(u["a"])(Object(u["a"])({},l),e.otherInfo)})}else{var d=e.pageName,p=a.value;n.dispatch("systemStore/createDataAction",{pageName:d,data:Object(u["a"])(Object(u["a"])({},p),e.otherInfo)})}n.dispatch("systemStore/getUserList",{name:e.pageName,data:Object(u["a"])({offset:(c.currentChange-1)*c.pageSize,size:c.pageSize},o)})};return{centerDialogVisible:t,formValue:a,handleDataClick:i}}}),g=a("6b0d"),j=a.n(g);const O=j()(s,[["render",p]]);t["a"]=O},d81d:function(e,t,a){"use strict";var n=a("23e7"),o=a("b727").map,r=a("1dde"),c=r("map");n({target:"Array",proto:!0,forced:!c},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-02f3fed8.c3303732.js.map